<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd 
   http://www.liquibase.org/xml/ns/dbchangelog 
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">


	<changeSet author="ipuppyp" id="1_create_stop_table">
		<sql>
		create table stop (
			id integer generated by default as identity,
			enabled boolean not null,
			name varchar(255) not null,
			stop_id varchar(255) not null,
			primary key (id)
		)
		</sql>
		<sql>
		alter table stop 
			add constraint UK_ctdagia3nrbbh16l4pe8ehlsx unique (name)
		</sql>		
	</changeSet>
 
	<changeSet author="ipuppyp" id="2_add_stops">
		<insert tableName="STOP">
			<column name="STOP_ID" value="BKK_F02784" />
			<column name="NAME" value="Fischer István utca" />
			<column name="ENABLED" value="TRUE" />
		</insert>
		<insert tableName="STOP">
			<column name="STOP_ID" value="BKK_F01291" />
			<column name="NAME" value="Blaha Lujza tér" />
			<column name="ENABLED" value="FALSE" />
		</insert>
	</changeSet>
	
	<changeSet author="ipuppyp" id="3_add_stops">
		<insert tableName="STOP">
			<column name="STOP_ID" value="BKK_F02773" />
			<column name="NAME" value="Vezér utca" />
			<column name="ENABLED" value="FAlSE" />
		</insert>
		<insert tableName="STOP">
			<column name="STOP_ID" value="BKK_F01317" />
			<column name="NAME" value="Puskás Ferenc Stadion M (130)" />
			<column name="ENABLED" value="FALSE" />
		</insert>
	</changeSet>
	
	<changeSet author="ipuppyp" id="4_add_stops">
		<insert tableName="STOP">
			<column name="STOP_ID" value="BKK_F01164" />
			<column name="NAME" value="Blaha Lujza tér M (5, 7, ...)" />
			<column name="ENABLED" value="FALSE" />
		</insert>
		<insert tableName="STOP">
			<column name="STOP_ID" value="BKK_F01165" />
			<column name="NAME" value="Blaha Lujza tér M (907, ...)" />
			<column name="ENABLED" value="FALSE" />
		</insert>
	</changeSet>
	
	<changeSet author="ipuppyp" id="5_add_stops">
		<insert tableName="STOP">
			<column name="STOP_ID" value="BKK_F02783" />
			<column name="NAME" value="Fischer István utca (Kifelé)" />
			<column name="ENABLED" value="TRUE" />
		</insert>		
	</changeSet>
	
	<changeSet author="ipuppyp" id="6_alter_table_stop_add_stopHeadSings">
		<addColumn tableName="STOP">
			<column name="INCLUDED_ROUTES" type="varchar(255)"/>
		</addColumn>
		<update tableName="STOP">
			<column name="INCLUDED_ROUTES" value="80"/>
        	<where>STOP_ID='BKK_F02783'</where>
		</update>
	</changeSet>
	
	<changeSet author="ipuppyp" id="7_add_stop">
		<insert tableName="STOP">
			<column name="STOP_ID" value="BKK_F02785" />
			<column name="NAME" value="Fischer István utca (81)" />
			<column name="ENABLED" value="TRUE" />
		</insert>		
	</changeSet>
	
</databaseChangeLog>